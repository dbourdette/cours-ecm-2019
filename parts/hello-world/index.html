<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- font awesome -->
    <link href="../../common/fontawesome-free-5.9.0-web/css/all.css" rel="stylesheet">

    <!-- highlight.js -->
    <link rel="stylesheet" href="../../common/highlightjs/styles/a11y-dark.css">

    <!-- lightbox -->
    <link rel="stylesheet" href="../../common/fancybox/dist/jquery.fancybox.min.css" />

    <!-- Custom CSS -->
    <link href="../../common/prez/style.css" rel="stylesheet" media="screen">

    <title>Hello World</title>
</head>
<body>
<div class="container ">
    <h1>Hello World</h1>

    <p>Historiquement, mettre en place une application java / jee est long et fastidieux.</p>

    <p>Le but de spring boot est de simplifier tout cela.</p>

    <p>Il devient même possible de faire tenir son application dans un tweet</p>

    <cite class="float-right">source <a href="https://twitter.com/rob_winch/status/364871658483351552?lang=fr" target="_blank">https://twitter.com/rob_winch/status/364871658483351552?lang=fr</a></cite>
    <div class="clearfix"></div>
    <pre><code class="groovy">@RestController
class ThisWillActuallyRun {
    @RequestMapping("/")
    String home() {
        "Hello World!"
    }
}</code></pre>

    <p>➤ Mettez ce code dans un fichier <code>hello.groovy</code> puis lancez</p>

    <pre><code class="console">$ spring run hello.groovy
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (jar:file:/C:/Users/jaad/.sdkman/candidates/springboot/current/lib/spring-boot-cli-2.1.5.RELEASE.jar!/BOOT-INF/lib/groovy-2.5.7.jar!/) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)
WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.5.RELEASE)

2019-06-13 09:03:38.503  INFO 2896 --- [       runner-0] o.s.boot.SpringApplication               : Starting application on JAAD3 with PID 2896 (started by jaad in C:\Users\jaad\projects)
2019-06-13 09:03:38.523  INFO 2896 --- [       runner-0] o.s.boot.SpringApplication               : No active profile set, falling back to default profiles: default
2019-06-13 09:03:39.745  INFO 2896 --- [       runner-0] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-06-13 09:03:39.777  INFO 2896 --- [       runner-0] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-06-13 09:03:39.777  INFO 2896 --- [       runner-0] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.19]
2019-06-13 09:03:39.842  INFO 2896 --- [       runner-0] org.apache.catalina.loader.WebappLoader  : Unknown class loader [org.springframework.boot.cli.compiler.ExtendedGroovyClassLoader$DefaultScopeParentClassLoader@7a36aefa] of class [class org.springframework.boot.cli.compiler.ExtendedGroovyClassLoader$DefaultScopeParentClassLoader]
2019-06-13 09:03:39.888  INFO 2896 --- [       runner-0] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-06-13 09:03:39.888  INFO 2896 --- [       runner-0] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1179 ms
2019-06-13 09:03:40.123  INFO 2896 --- [       runner-0] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-06-13 09:03:40.523  INFO 2896 --- [       runner-0] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-06-13 09:03:40.527  INFO 2896 --- [       runner-0] o.s.boot.SpringApplication               : Started application in 2.524 seconds (JVM running for 4.498)
</code></pre>

    <p>L'application est maintenant accessible sur <a href="http://localhost:8080" target="_blank">http://localhost:8080</a></p>

    <img src="hello-world.png" alt="" class="img-thumbnail mx-auto d-block">

    <h2>Les paramètres</h2>

    <p>Un paramètre dans une url est placé après le <code>?</code>, par exemple <code>http://localhost:8080?name=Thierry</code></p>

    <p>Dans le code, on peut récupérer la bonne valeur</p>

    <pre><code class="groovy">@RestController
class ThisWillActuallyRun {
    @RequestMapping("/")
    String home(@RequestParam String name) {
        "Hello $name!"
    }
}</code></pre>

    <p>➤ Relancez <code>spring run hello.groovy</code> afin de tester le fonctionnement du paramètre <code>name</code></p>

    <h2>Le chemin</h2>

    <p>Le chemin de l'url est comprise entre le nom de domaine et les paramètres</p>

    <p>Par exemple pour <code>http://example.org/mon/chemin/index.html?name=Jean</code> le chemin est <code>/mon/chemin/index.html</code></p>

    <p>➤ Dans le code, il est possible de répondre sur un chemin particulier</p>

    <pre><code class="groovy">@RestController
class ThisWillActuallyRun {
    @RequestMapping("/hello/world")
    String home() {
        "Hello World!"
    }
}</code></pre>

    <p>➤ ou bien de venir lire une partie du chemin</p>

    <pre><code class="groovy">@RestController
class ThisWillActuallyRun {
    @RequestMapping("/hello/{name}")
    String home(@PathVariable String name) {
        "Hello $name!"
    }
}</code></pre>

    <h2>La requête http</h2>

    <p>L'url n'est qu'une partie de la requête http</p>

    <p>Spring permet de venir lire tout ce que contient la requête et de générer la réponse</p>

    <p>Nous allons regarder un peu plus en détails comment fonctionne ce protocole</p>

    <a href="../../index.html" class="home"><i class="fas fa-home"></i> home</a>
</div>
<!-- presentation -->

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<!-- highlight.js -->
<script src="../../common/highlightjs/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- lightbox -->
<script src="../../common/fancybox/dist/jquery.fancybox.min.js"></script>

<script src="../../common/prez/prez.js"></script>

</body>
</html>